function validateEmail(t){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}function checkInput(t){return!(!t.val()||"email"==t.attr("type")&&!validateEmail(t.val()))&&(t.removeClass("error"),!0)}function parseGET(t){var e=["utm_source","utm_medium","utm_campaign","utm_term","utm_content"];if(t&&""!=t||(t=decodeURI(document.location.search)),t.indexOf("?")<0)return Array();var i={},a=[],o=[];-1!=(t=(t=t.split("?"))[1]).indexOf("#")&&(t=t.substr(0,t.indexOf("#"))),-1<t.indexOf("&")?a=t.split("&"):a[0]=t;for(var s=0;s<a.length;s++)for(var n=0;n<e.length;n++)-1<a[s].indexOf(e[n]+"=")&&-1<a[s].indexOf("=")&&(i[(o=a[s].split("="))[0]]=o[1]);return i}function Sparkle(t,e){this.options=e,this.init(t)}$(document).ready(function(){var a=$(window),t=$(".page-top"),o=$("html, body"),e=$(".header"),i=$(".main-menu"),s=144,n=$(".hamburger"),r=parseGET();r&&0<Object.keys(r).length?window.sessionStorage.setItem("utms",JSON.stringify(r)):r=JSON.parse(window.sessionStorage.getItem("utms")||"[]"),new WOW({mobile:!1}).init(),a.width()<992&&(s=110),479<a.width()&&$("input[type=tel]").mask("+7 (999) 999 99 99",{completed:function(){$(this).removeClass("error")}}),a.scroll(function(){l()});var l=function(){a.scrollTop()>a.height()?t.addClass("active"):t.removeClass("active"),0<a.scrollTop()?e.addClass("header--scrolled"):e.removeClass("header--scrolled");var o=a.scrollTop()+s;i.find(".link").each(function(){var t=$(this),e=t.find("a").attr("href");if(1<e.length&&"#"==e.charAt(0)&&0<$(e).length){var i=$(e),a=i.offset().top;a<=o&&a+i.height()>=o?t.addClass("active"):t.removeClass("active")}})};function c(){$this=n,$this.hasClass("is-active")?($this.removeClass("is-active"),i.slideUp("700")):($this.addClass("is-active"),i.slideDown("700"))}l(),$(".main-menu .link a").click(function(t){var e=$(this).attr("href");if(1<e.length&&"#"==e.charAt(0)&&0<$(e).length){t.preventDefault();var i=$(e).offset().top-s;o.stop().animate({scrollTop:i},"slow","swing")}a.width()<=991&&c()}),t.click(function(){o.stop().animate({scrollTop:0},"slow","swing")}),$("input:required, textarea:required").change(function(){var t=$(this);"tel"!=t.attr("type")&&checkInput(t)}),n.click(function(){return c(),!1}),$("[data-remodal-info]").click(function(){for(var t=$(this).data("remodal-target"),e=$(this).data("remodal-info"),i=$('[data-remodal-id="'+t+'"]'),a=e.info,o=0;o<a.length;o++){var s=a[o].prop,n=a[o].value;i.find('[name="'+s+'"]').val(n)}}),$(document).on("closing",".remodal",function(t){$(this).find(".input-div input, .input-div textarea").removeClass("error");var e=$(this).find("form");0<e.length&&e[0].reset()}),$(".ajax-submit").click(function(t){var e=$(this).closest("form"),i=e.find(":required"),a=!0;if(i.each(function(){$elem=$(this),$elem.val()&&checkInput($elem)||($elem.addClass("error"),a=!1)}),a)for(var o in 0===Object.keys(r).length&&(r.utm="Прямой переход"),r){var s=document.createElement("input");s.type="hidden",s.name=o,s.value=r[o],e[0].appendChild(s)}else t.preventDefault()});var d=$(".question-modal");$(".perehod").click(function(t){t.preventDefault();var e=$(this),i=d.find("#"+e.data("show")),a=d.find("#"+e.data("hide")),o=e.closest(".question").find(":required"),s=!0;o.each(function(){$elem=$(this),$elem.val()&&checkInput($elem)||($elem.addClass("error"),s=!1)}),s&&(i.removeClass("d-none"),a.addClass("d-none"))}),$(document).on("closing",".question-modal",function(t){d.find(".question").removeClass("has-error").addClass("d-none").filter("#question-1").removeClass("d-none")}),$(".dubai__image__block__img").click(function(){var t=$(this),e=t.closest(".dubai__image");e.find(".dubai__image__block__img").removeClass("active"),t.addClass("active");var i=t.data("img");e.find(".dubai__image__block__big").attr("href",i),e.find(".dubai__image__block__big img").attr("src",i)}),$(".cdropdown").click(function(){var t=$(this);t.addClass("clicked"),setTimeout(function(){t.removeClass("clicked")},100)}),$(".cdropdown__toggle").click(function(){$(this).closest(".cdropdown").toggleClass("opened")}),$(".cdropdown__item").click(function(){var t=$(this),e=t.closest(".cdropdown");e.removeClass("opened"),e.find(".cdropdown__value").val(t.data("value")),e.find(".cdropdown__text").html(t.html())}),$("html").click(function(){$(".cdropdown:not(.clicked)").removeClass("opened")}),$(".qlabel--dop input").change(function(){var t=$(this).val(),e=$(this).closest(".qlabel").find(".qlabel__dop");if(0<t){for(var i="",a=0;a<t;a++)i+='<div class="qlabel__item">Возраст ребенка 1* <input type="number" name="Возраст_ребенка[]" value="1" min="0"></div>';e.html(i),e.addClass("show")}else e.removeClass("show")}),$('input[name="Способ"]').change(function(){var t=$(this).closest(".form").find(".change");t.find("input").remove(),"E-mail"!==this.value?t.prepend('<input type="tel" class="input input--accent" name="phone" placeholder="Контактный телефон*" required minlength="10">'):t.prepend('<input type="email" class="input input--accent" name="email" placeholder="E-mail*" required>')});var h=$(".carousel-tur");$.get("/instagram.php",function(t){h.html(t),h.owlCarousel({loop:!1,nav:!1,dots:!0,mouseDrag:!1,smartSpeed:500,margin:15,navText:["",""],responsive:{0:{items:1,mouseDrag:!1},576:{items:1,mouseDrag:!0},768:{items:2}}})}),$(".carousel-review").owlCarousel({loop:!1,dots:!0,nav:!1,smartSpeed:500,margin:30,navText:["",""],responsive:{0:{items:1,mouseDrag:!1},576:{items:1,mouseDrag:!0}}}),$(".carousel-hotels").owlCarousel({loop:!1,dots:!0,nav:!1,smartSpeed:500,margin:0,navText:["",""],responsive:{0:{items:1,mouseDrag:!1},576:{items:2,mouseDrag:!0},768:{items:2,mouseDrag:!0},992:{items:3,mouseDrag:!0},1200:{items:4,mouseDrag:!0}}}),$(".carousel-strana").owlCarousel({loop:!1,dots:!1,nav:!0,smartSpeed:500,margin:30,navText:["",""],responsive:{0:{items:1,mouseDrag:!1},576:{items:2,mouseDrag:!0},768:{items:3},992:{items:4},1200:{items:5,mouseDrag:!1}}}),$(".carousel-cooperate").owlCarousel({loop:!1,dots:!1,nav:!0,smartSpeed:500,margin:30,navText:["",""],responsive:{0:{items:1,mouseDrag:!1},576:{items:2,mouseDrag:!0},768:{items:3,mouseDrag:!0},992:{items:4,mouseDrag:!0}}}),$(".carousel-certificates").owlCarousel({loop:!1,smartSpeed:500,margin:30,items:1,navText:["",""]}),$(".carousel-certificates-mobile").owlCarousel({loop:!1,smartSpeed:500,margin:30,navText:["",""],responsive:{0:{mouseDrag:!1,items:1,mouseDrag:!1},576:{mouseDrag:!0,items:2,mouseDrag:!0},768:{mouseDrag:!0,items:3},992:{mouseDrag:!0,items:4}}})}),$(document).ready(function(){if(!(window.innerWidth<=576)){var a,t=$(".animation1"),o=t.width(),s=t.height(),e=document.getElementById("sand"),n=e.getContext("2d"),r=50,l=500,c=5,d=new Array,i=["#ab6b29"];e.setAttribute("width",o),e.setAttribute("height",s),function(){for(var t=a=0;t<l;t++)d[t]={x:Math.ceil(Math.random()*o),y:Math.ceil(Math.random()*s),toX:5*Math.random()+1,toY:5*Math.random()+1,c:i[Math.floor(Math.random()*i.length)],size:1*Math.random()}}(),function t(){n.clearRect(0,0,o,s);for(var e=0;e<l;e++){var i=d[e];n.beginPath(),n.arc(i.x,i.y,i.size,0,2*Math.PI,!1),n.fillStyle=i.c,n.fill(),i.x=i.x+i.toX*(.05*a),i.y=i.y+i.toY*(.05*a),i.x>o&&(i.x=0),i.y>s&&(i.y=0),i.x<0&&(i.x=o),i.y<0&&(i.y=s)}a<c&&a++,timerID=setTimeout(t,1e3/r)}()}}),$(function(){$(".strana__img img").imagesLoaded(function(){$(".animation2").sparkleh({count:700,color:["#f3edc4","#253943","#659e3f"],speed:.04})})}),$.fn.sparkleh=function(o){return this.each(function(t,e){var i=$(e).css("position","relative"),a=new Sparkle(i,$.extend({width:i.outerWidth(),height:i.outerHeight(),color:"#FFFFFF",count:30,overlap:0,speed:1},o));i.on({"mouseover focus":function(t){a.over()},"mouseout blur":function(t){a.out()}})})},Sparkle.prototype={init:function(t){this.$canvas=$("<canvas>").addClass("sparkle-canvas").css({position:"absolute",top:"-"+this.options.overlap+"px",left:"-"+this.options.overlap+"px","pointer-events":"none"}).appendTo(t),this.canvas=this.$canvas[0],this.context=this.canvas.getContext("2d"),this.sprite=new Image,this.sprites=[0,6,13,20],this.sprite.src=this.datauri,this.canvas.width=this.options.width+2*this.options.overlap,this.canvas.height=this.options.height+2*this.options.overlap,this.particles=this.createSparkles(this.canvas.width,this.canvas.height),this.anim=null,this.fade=!1},createSparkles:function(t,e){for(var i=[],a=0;a<this.options.count;a++){var o=this.options.color;"rainbow"==this.options.color?o="#"+("000000"+Math.floor(16777215*Math.random()).toString(16)).slice(-6):"array"===$.type(this.options.color)&&(o=this.options.color[Math.floor(Math.random()*this.options.color.length)]),i[a]={position:{x:Math.floor(Math.random()*t),y:Math.floor(Math.random()*e)},style:this.sprites[Math.floor(4*Math.random())],delta:{x:Math.floor(1e3*Math.random())-500,y:Math.floor(1e3*Math.random())-500},size:parseFloat((2*Math.random()).toFixed(2)),color:o}}return i},draw:function(t,e){var i=this.context;i.clearRect(0,0,this.canvas.width,this.canvas.height);for(var a=0;a<this.options.count;a++){var o=this.particles[a],s=Math.floor(7*Math.random());Math.floor(t)%s==0&&(o.style=this.sprites[Math.floor(4*Math.random())]),i.save(),i.globalAlpha=o.opacity,i.drawImage(this.sprite,o.style,0,7,7,o.position.x,o.position.y,7,7),this.options.color&&(i.globalCompositeOperation="source-atop",i.globalAlpha=.5,i.fillStyle=o.color,i.fillRect(o.position.x,o.position.y,7,7)),i.restore()}},update:function(){var s=this;this.anim=window.requestAnimationFrame(function(t){for(var e=0;e<s.options.count;e++){var i=s.particles[e],a=Math.random()>2*Math.random(),o=Math.random()>3*Math.random();a&&(i.position.x+=i.delta.x*s.options.speed/1500),o||(i.position.y-=i.delta.y*s.options.speed/800),i.position.x>s.canvas.width?i.position.x=-7:i.position.x<-7&&(i.position.x=s.canvas.width),i.position.y>s.canvas.height?(i.position.y=-7,i.position.x=Math.floor(Math.random()*s.canvas.width)):i.position.y<-7&&(i.position.y=s.canvas.height,i.position.x=Math.floor(Math.random()*s.canvas.width)),s.fade?i.opacity-=.02:i.opacity-=.005,i.opacity<=0&&(i.opacity=s.fade?0:1)}s.draw(t),s.fade?(s.fadeCount-=1,s.fadeCount<0?window.cancelAnimationFrame(s.anim):s.update()):s.update()})},cancel:function(){this.fadeCount=100},over:function(){window.cancelAnimationFrame(this.anim);for(var t=0;t<this.options.count;t++)this.particles[t].opacity=Math.random();this.fade=!1,this.update()},out:function(){this.fade=!0,this.cancel()},datauri:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAHCAYAAAD5wDa1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozNDNFMzM5REEyMkUxMUUzOEE3NEI3Q0U1QUIzMTc4NiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozNDNFMzM5RUEyMkUxMUUzOEE3NEI3Q0U1QUIzMTc4NiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjM0M0UzMzlCQTIyRTExRTM4QTc0QjdDRTVBQjMxNzg2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjM0M0UzMzlDQTIyRTExRTM4QTc0QjdDRTVBQjMxNzg2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+jzOsUQAAANhJREFUeNqsks0KhCAUhW/Sz6pFSc1AD9HL+OBFbdsVOKWLajH9EE7GFBEjOMxcUNHD8dxPBCEE/DKyLGMqraoqcd4j0ChpUmlBEGCFRBzH2dbj5JycJAn90CEpy1J2SK4apVSM4yiKonhePYwxMU2TaJrm8BpykpWmKQ3D8FbX9SOO4/tOhDEG0zRhGAZo2xaiKDLyPGeSyPM8sCxr868+WC/mvu9j13XBtm1ACME8z7AsC/R9r0fGOf+arOu6jUwS7l6tT/B+xo+aDFRo5BykHfav3/gSYAAtIdQ1IT0puAAAAABJRU5ErkJggg=="},$.fn.imagesLoaded=function(t){var e=this.filter("img"),i=e.length,a="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";return e.bind("load.imgloaded",function(){--i<=0&&this.src!==a&&(e.unbind("load.imgloaded"),t.call(e,this))}).each(function(){if(this.complete||void 0===this.complete){var t=this.src;this.src=a,this.src=t}}),this};